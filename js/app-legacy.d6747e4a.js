(function(){"use strict";var e={1693:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(9963),o=(n(6375),n(9811)),a=n(746),u=n(8600),i=(0,o.Rd)({components:a,directives:u}),l=n(6252),c=n(3577),s=(0,l.Uk)("PWA Demo");function d(e,t,n,r,o,a){var u=(0,l.up)("navigation-drawer"),i=(0,l.up)("v-navigation-drawer"),d=(0,l.up)("v-app-bar-nav-icon"),f=(0,l.up)("v-app-bar-title"),m=(0,l.up)("v-spacer"),v=(0,l.up)("v-icon"),p=(0,l.up)("v-btn"),w=(0,l.up)("v-app-bar"),g=(0,l.up)("account-dialog"),k=(0,l.up)("router-view"),h=(0,l.up)("v-container"),b=(0,l.up)("v-main"),_=(0,l.up)("v-app"),y=(0,l.up)("v-theme-provider");return(0,l.wg)(),(0,l.j4)(y,{theme:"dark","with-background":""},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(i,{modelValue:e.state.drawer,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.drawer=t}),app:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{account:e.loadAccount(),onHideDrawer:e.hideDrawer},null,8,["account","onHideDrawer"])]})),_:1},8,["modelValue"]),(0,l.Wm)(w,{app:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{onClick:t[1]||(t[1]=function(t){return e.state.drawer=!e.state.drawer})}),(0,l.Wm)(f,null,{default:(0,l.w5)((function(){return[s]})),_:1}),(0,l.Wm)(m),(0,l.Wm)(p,{class:(0,c.C_)(e.state.onlineStatusStyle),onClick:t[2]||(t[2]=function(t){return e.sync()})},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.state.onlineStatusIcon),1)]})),_:1})]})),_:1},8,["class"])]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(g),(0,l.Wm)(k)]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var f=n(2262);n(8309);function m(e,t,n,r,o,a){var u=(0,l.up)("v-list-item-title"),i=(0,l.up)("v-list-item-subtitle"),s=(0,l.up)("v-list-item"),d=(0,l.up)("v-list"),f=(0,l.up)("v-divider"),m=(0,l.up)("v-list-item-icon"),v=(0,l.up)("v-container");return(0,l.wg)(),(0,l.j4)(v,{onClick:e.itemSelected},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{density:"comfortable"},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{class:"text-h6"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.account.name),1)]})),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.account.organization),1)]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(f),(0,l.Wm)(d,{density:"comfortable"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.state.items,(function(t){return(0,l.wg)(),(0,l.j4)(s,{key:t.title,to:t.route,link:"",onClick:e.itemSelected},{default:(0,l.w5)((function(){return[(0,l.Wm)(m,{style:{"margin-right":"1em"},icon:"{{ item.icon }}"}),(0,l.Wm)(u,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(t.title),1)]})),_:2},1024)]})),_:2},1032,["to","onClick"])})),128))]})),_:1})]})),_:1},8,["onClick"])}var v=n(5621),p=(0,l.aZ)({name:"NavigationDrawer",props:{account:v.m},setup:function(e,t){var n=t.emit,r=(0,f.qj)({drawer:!1,items:[{title:"Baskets",icon:"mdi-shopping-outline",route:"/home"},{title:"Settings",icon:"mdi-application-settings",route:"/settings"},{title:"Catalogs",icon:"mdi-book-open-variant",route:"/catalogs"},{title:"Search",icon:"mdi-book-open-variant",route:"/search"},{title:"Account",icon:"mdi-account-edit-outline",route:"/account"},{title:"About",icon:"mdi-chat-question-outline",route:"/about"}]});(0,l.bv)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r.drawer=!1)}))})),(0,l.Ah)((function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&(r.drawer=!1)}))}));var o=function(){n("hide-drawer")};return{state:r,itemSelected:o}}}),w=n(3744);const g=(0,w.Z)(p,[["render",m]]);var k=g;function h(e,t,n,r,o,a){var u=(0,l.up)("account-view"),i=(0,l.up)("v-dialog");return(0,l.wg)(),(0,l.j4)(i,{modelValue:e.state.showDialog,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.showDialog=t}),persistent:"true"},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{onOnAccountSaved:e.closeDialog},null,8,["onOnAccountSaved"])]})),_:1},8,["modelValue"])}var b=n(739),_=n(5024),y=(0,l.aZ)({name:"AccountDialog",components:{AccountView:b["default"]},setup:function(){var e=(0,f.qj)({showDialog:!1});(0,l.bv)((function(){e.showDialog=!_.Z.localStorageInitialized}));var t=function(){e.showDialog=!1};return{state:e,closeDialog:t}}});const W=(0,w.Z)(y,[["render",h]]);var Z=W,U=n(3907),D=n(9905),A=n(5293),S=(0,l.aZ)({name:"App",components:{AccountDialog:Z,NavigationDrawer:k},setup:function(){var e=(0,U.oR)(),t=(0,f.qj)({drawer:!1,onlineStatusIcon:"mdi-sync-off",onlineStatusStyle:"offline"});e.dispatch(D.U.InitBaskets),(0,l.bv)((function(){r(),window.addEventListener("online",r),window.addEventListener("offline",r),window.addEventListener("keydown",(function(e){"Escape"===e.code&&n()}))})),(0,l.Ah)((function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&n()}))}));var n=function(){t.drawer=!1},r=function(){t.onlineStatusStyle=A.Z.isOnline?"online":"offline",t.onlineStatusIcon=A.Z.isOnline?"mdi-sync":"mdi-sync-off",console.log("App.updateOnlineStatus: status is "+t.onlineStatusStyle)},o=function(){return _.Z.getAccount()},a=function(){console.log("sync not implemented yet")};return{store:e,state:t,hideDrawer:n,updateOnlineStatus:r,loadAccount:o,sync:a}}});const C=(0,w.Z)(S,[["render",d],["__scopeId","data-v-27174e04"]]);var B=C,E=(n(1539),n(8783),n(3948),n(2119)),R=(n(2526),n(1817),(0,l.Uk)("mdi-plus")),O=(0,l.Uk)("mdi-magnify"),V=(0,l.Uk)("12 items"),L=(0,l.Uk)("Details"),T=(0,l.Uk)("Delete");function x(e,t,n,r,o,a){var u=(0,l.up)("v-icon"),i=(0,l.up)("v-btn"),s=(0,l.up)("v-spacer"),d=(0,l.up)("v-card-subtitle"),f=(0,l.up)("v-card-actions"),m=(0,l.up)("v-card"),v=(0,l.up)("v-avatar"),p=(0,l.up)("v-badge"),w=(0,l.up)("v-card-avatar"),g=(0,l.up)("v-card-title"),k=(0,l.up)("v-card-header-text"),h=(0,l.up)("v-card-header"),b=(0,l.up)("v-card-text"),_=(0,l.up)("v-col"),y=(0,l.up)("v-row"),W=(0,l.up)("v-container"),Z=(0,l.up)("basket-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(W,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(y,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(m,{flat:"",style:{"background-color":"transparent"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(i,{icon:"",size:"x-small",style:{"margin-top":"-20px"},onClick:e.openBasketDialog},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,null,{default:(0,l.w5)((function(){return[R]})),_:1})]})),_:1},8,["onClick"]),(0,l.Wm)(i,{icon:"",size:"x-small",style:{"margin-top":"-20px"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,null,{default:(0,l.w5)((function(){return[O]})),_:1})]})),_:1}),(0,l.Wm)(s),(0,l.Wm)(d,{link:""},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.state.baskets.length)+" Baskets",1)]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(m,{style:{"background-color":"transparent"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(y,null,{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.state.baskets,(function(t){return(0,l.wg)(),(0,l.j4)(_,{key:t.id,cols:"12",sm:"6",md:"4",xl:"3"},{default:(0,l.w5)((function(){return[(0,l.Wm)(m,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(h,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(w,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(p,{bordered:"",color:"error",icon:"mdi-lock"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{color:"orange",size:"48"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.computeAcronym(t)),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),(0,l.Wm)(k,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(g,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(t.id)+" - "+(0,c.zw)(t.name),1)]})),_:2},1024),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(t.description),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[V]})),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(i,{to:e.basketRoute(t)},{default:(0,l.w5)((function(){return[L]})),_:2},1032,["to"]),(0,l.Wm)(i,null,{default:(0,l.w5)((function(){return[T]})),_:1})]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(Z,{basket:e.createBasket(),showDialog:e.state.showBasketDialog,onOnCloseDialog:e.closeDialog},null,8,["basket","showDialog","onOnCloseDialog"])],64)}var N=n(632);function I(e,t,n,r,o,a){var u=(0,l.up)("v-btn"),i=(0,l.up)("v-card-actions"),c=(0,l.up)("basket-panel"),s=(0,l.up)("v-card-text"),d=(0,l.up)("v-divider"),f=(0,l.up)("v-card"),m=(0,l.up)("v-dialog");return(0,l.wg)(),(0,l.j4)(m,{modelValue:e.state.showBasketDialog,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.showBasketDialog=t})},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(i,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{icon:"mdi-close",size:"x-small",onClick:e.closeDialog},null,8,["onClick"])]})),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{basket:e.state.basket,onOnBasketSaved:e.closeDialog},null,8,["basket","onOnBasketSaved"])]})),_:1}),(0,l.Wm)(d),(0,l.Wm)(i)]})),_:1})]})),_:1},8,["modelValue"])}var z=(0,l.Uk)("Create new Basket"),j=(0,l.Uk)("Clear"),P=(0,l.Uk)("Save"),M=(0,l.Uk)("Close");function q(e,t,n,r,o,a){var u=(0,l.up)("v-avatar"),i=(0,l.up)("v-card-avatar"),s=(0,l.up)("v-card-title"),d=(0,l.up)("v-card-header-text"),f=(0,l.up)("v-card-header"),m=(0,l.up)("v-text-field"),v=(0,l.up)("v-col"),p=(0,l.up)("v-row"),w=(0,l.up)("v-container"),g=(0,l.up)("v-card-text"),k=(0,l.up)("v-divider"),h=(0,l.up)("v-btn"),b=(0,l.up)("v-card-actions"),_=(0,l.up)("v-card"),y=(0,l.up)("v-snackbar");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(f,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(i,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{icon:"mdi-account-edit-outline"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(s,null,{default:(0,l.w5)((function(){return[z]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(g,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(w,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(p,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{cols:"12"},{default:(0,l.w5)((function(){return[(0,l.Wm)(m,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.name=t}),label:"Name",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1}),(0,l.Wm)(v,{cols:"12"},{default:(0,l.w5)((function(){return[(0,l.Wm)(m,{modelValue:e.state.description,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.description=t}),label:"Description",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(k),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{onClick:e.clear},{default:(0,l.w5)((function(){return[j]})),_:1},8,["onClick"]),(0,l.Wm)(h,{color:"primary",onClick:t[2]||(t[2]=function(t){return e.save(e.state.name,e.state.description)})},{default:(0,l.w5)((function(){return[P]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(y,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.snackbar=t}),timeout:2e3},{action:(0,l.w5)((function(n){var r=n.attrs;return[(0,l.Wm)(h,(0,l.dG)({color:"blue",text:""},r,{onClick:t[3]||(t[3]=function(t){return e.state.snackbar=!1})}),{default:(0,l.w5)((function(){return[M]})),_:2},1040)]})),default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.zw)(e.state.message)+" ",1)]})),_:1},8,["modelValue"])],64)}var F=(0,l.aZ)({name:"BasketPanel",props:{basket:N.L},setup:function(e,t){var n=t.emit,r=(0,U.oR)(),o=(0,f.qj)({snackbar:!1,message:"",name:"",description:""}),a=[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}];(0,l.bv)((function(){o.name=e.basket?e.basket.name:"",o.description=e.basket?e.basket.description:""})),(0,l.ic)((function(){o.name=e.basket?e.basket.name:"",o.description=e.basket?e.basket.description:""}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.description;r.dispatch(D.U.CreateBasket,new N.L(e,t)),n("on-basket-saved")},i=function(){o.name="",o.description="",o.message=""};return{state:o,rules:a,save:u,clear:i}}});const H=(0,w.Z)(F,[["render",q]]);var J=H,G=(0,l.aZ)({name:"BasketDialog",components:{BasketPanel:J},props:{basket:N.L,showDialog:Boolean},setup:function(e,t){var n=t.emit,r=(0,f.qj)({showBasketDialog:e.showDialog,basket:e.basket});(0,l.bv)((function(){r.basket=e.basket,r.showBasketDialog=e.showDialog})),(0,l.ic)((function(){r.basket=e.basket,r.showBasketDialog=e.showDialog}));var o=function(){r.showBasketDialog=!1,n("on-close-dialog")};return{state:r,closeDialog:o}}});const Y=(0,w.Z)(G,[["render",I]]);var K=Y,X=n(619),Q=(0,l.aZ)({name:"BasketsOverview",components:{BasketDialog:K},setup:function(){var e=(0,f.qj)({baskets:new Array,showBasketDialog:!1});(0,l.bv)((function(){u()})),(0,l.ic)((function(){u()}));var t=function(e){return e.name.substr(0,2).toUpperCase()},n=function(e){return"/baskets/"+e.id},r=function(){e.showBasketDialog=!0},o=function(){return new N.L},a=function(){e.showBasketDialog=!1},u=function(){X.Z.getBaskets().then((function(t){e.baskets=t}))};return{state:e,computeAcronym:t,basketRoute:n,createBasket:o,openBasketDialog:r,closeDialog:a,loadBaskets:u}}});const $=(0,w.Z)(Q,[["render",x]]);var ee=$,te=[{path:"/settings",component:function(){return n.e(814).then(n.bind(n,4814))}},{path:"/catalogs",component:function(){return n.e(170).then(n.bind(n,6170))}},{path:"/search",component:function(){return n.e(506).then(n.bind(n,5506))}},{path:"/account",component:function(){return Promise.resolve().then(n.bind(n,739))}},{path:"/about",component:function(){return n.e(877).then(n.bind(n,6877))}},{path:"/baskets/:basketId",props:!0,component:function(){return n.e(572).then(n.bind(n,572))}},{path:"/:catchAll(.*)",props:!0,component:ee}],ne=(0,E.p7)({history:(0,E.PO)("/pwa-test/"),routes:te}),re=ne,oe=n(5156),ae={baskets:Array()},ue=(0,U.MT)({state:ae,mutations:oe.P,actions:D.N,modules:{}}),ie=n(5205);(0,ie.z)("".concat("/pwa-test/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),(0,r.ri)(B).use(re).use(ue).use(i).mount("#app")},5621:function(e,t,n){n.d(t,{m:function(){return u}});var r=n(2833),o=n(3087),a=n(2482),u=(n(8309),(0,r.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,o.Z)(this,e),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"organization",void 0),(0,a.Z)(this,"serverUrl",void 0),this.name=t,this.organization=n,this.serverUrl=r})))},632:function(e,t,n){n.d(t,{L:function(){return f}});var r,o=n(2833),a=n(3087),u=n(2417),i=n(3806),l=n(5744),c=n(2482);n(8309),n(2526),n(1817);(function(e){e[e["CREATED"]=0]="CREATED",e[e["CHANGED"]=1]="CHANGED",e[e["DELETED"]=2]="DELETED"})(r||(r={}));var s,d=function(){function e(t,n,r){(0,a.Z)(this,e),(0,c.Z)(this,"_revisor",void 0),(0,c.Z)(this,"_revisionDate",void 0),(0,c.Z)(this,"_revisionType",void 0),this._revisor=t,this._revisionDate=n,this._revisionType=r}return(0,o.Z)(e,[{key:"revisor",get:function(){return this._revisor}},{key:"revisionDate",get:function(){return this._revisionDate}},{key:"revisionType",get:function(){return this._revisionType}}]),e}();(function(e){e[e["PRIVATE"]=0]="PRIVATE",e[e["PUBLIC"]=1]="PUBLIC"})(s||(s={}));var f=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,a.Z)(this,n),e=t.call(this,"todo",new Date,r.CREATED),(0,c.Z)((0,u.Z)(e),"id",void 0),(0,c.Z)((0,u.Z)(e),"name",void 0),(0,c.Z)((0,u.Z)(e),"description",void 0),(0,c.Z)((0,u.Z)(e),"image",void 0),(0,c.Z)((0,u.Z)(e),"positions",void 0),(0,c.Z)((0,u.Z)(e),"owner",void 0),(0,c.Z)((0,u.Z)(e),"ownership",s.PRIVATE),e.name=o,e.description=i,e.positions=[],e}return(0,o.Z)(n)}(d)},619:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(8534),o=n(3087),a=n(2833),u=n(2482),i=(n(1539),n(5666),n(2417)),l=n(3806),c=n(5744),s=n(9520),d=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,o.Z)(this,n),e=t.call(this,"Basket"),(0,u.Z)((0,i.Z)(e),"baskets",void 0),e.version(1).stores({baskets:"++id,name,description"}),e}return(0,a.Z)(n)}(s.ZP),f=function(){function e(){(0,o.Z)(this,e),(0,u.Z)(this,"db",new d)}return(0,a.Z)(e,[{key:"create",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.add(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBaskets",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.toArray());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBasket",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.get(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.id&&this.db.baskets.update(t.id,t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.db.baskets.delete(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.db.baskets.clear();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"storeData",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.bulkPut(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),m=new f},5024:function(e,t,n){var r,o=n(3087),a=n(2833),u=n(2482),i=(n(8309),n(5621));(function(e){e["ACCOUNT_NAME"]="account.name",e["ACCOUNT_ORGANIZATION"]="account.organization",e["ACCOUNT_SERVER_URL"]="account.serverUrl"})(r||(r={}));var l=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"localStorageSupported",get:function(){return"localStorage"in window}},{key:"localStorageInitialized",get:function(){return!!this.localStorageSupported&&null!==localStorage.getItem(r.ACCOUNT_NAME)}},{key:"saveAccount",value:function(e){this.localStorageSupported&&(localStorage.setItem(r.ACCOUNT_NAME,e.name),localStorage.setItem(r.ACCOUNT_ORGANIZATION,e.organization),localStorage.setItem(r.ACCOUNT_SERVER_URL,e.serverUrl))}},{key:"getServerUrl",value:function(){var t=localStorage.getItem(r.ACCOUNT_SERVER_URL);return null!=t?t:e.DEFAULT_SERVER_URL}},{key:"getAccount",value:function(){if(this.localStorageSupported){for(var t="",n="",o=e.DEFAULT_SERVER_URL,a=0;a<localStorage.length;a++){var u=localStorage.key(a),l=localStorage.getItem(null==u?"":u);u===r.ACCOUNT_NAME&&(t=null==l?t:l),u===r.ACCOUNT_ORGANIZATION&&(n=null==l?n:l),u===r.ACCOUNT_SERVER_URL&&(o=null==l?o:l)}return new i.m(t,n,o)}return new i.m}},{key:"clear",value:function(){this.localStorageSupported&&localStorage.clear()}}]),e}();(0,u.Z)(l,"DEFAULT_SERVER_URL","http://localhost:8081"),t["Z"]=new l},5293:function(e,t,n){var r=n(3087),o=n(2833),a=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"isOnline",get:function(){return navigator.onLine}},{key:"registerOnlineStatusUpdateListener",value:function(e){window.addEventListener("online",e),window.addEventListener("offline",e)}}]),e}();t["Z"]=new a},9905:function(e,t,n){n.d(t,{N:function(){return i},U:function(){return r}});n(8862);var r,o=n(632),a=n(619),u=n(5156);(function(e){e["CreateBasket"]="createBasket",e["StoreBasketImage"]="storeBasketImage",e["InitBaskets"]="initBaskets"})(r||(r={}));var i={createBasket:function(e,t){var n=e.commit;a.Z.create(t).then((function(e){t.id=e,n(u.x.AddBasket,t),console.log("Basket created: "+e)}))},storeBasketImage:function(e,t){var n=e.commit;console.log("Action.storeBasketImage: "+JSON.stringify(t)),a.Z.getBasket(t.basketId).then((function(e){e&&(e.image=t.imageDataUrl,a.Z.update(e).then((function(){n(u.x.UpdateBasket,e)})))}))},initBaskets:function(e){var t=e.commit,n=[new o.L("Supermarket XXL","Mon, 12. July 2021"),new o.L("My Favourite Shop","Tue, 22. July 2021"),new o.L("Local Fresh Discounter","Mon, 12. July 2021"),new o.L("Weekly Market","Fri, 29. July 2021"),new o.L("DIY Store","Mon, 12. July 2021")];a.Z.storeData(n).then((function(e){a.Z.getBaskets().then((function(e){t(u.x.InitBaskets,e)}))}))}}},5156:function(e,t,n){n.d(t,{P:function(){return o},x:function(){return r}});var r;n(4553),n(561);(function(e){e["AddBasket"]="addBasket",e["UpdateBasket"]="updateBasket",e["InitBaskets"]="initBaskets"})(r||(r={}));var o={addBasket:function(e,t){e.baskets.push(t)},updateBasket:function(e,t){var n=e.baskets.findIndex((function(e){return e.id===t.id}));console.log("Mutation.updateBasket: Index to update is "+t.id),-1!=n&&e.baskets.splice(n,1,t)},initBaskets:function(e,t){e.baskets=t}}},739:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});n(8309);var r=n(6252),o=n(3577),a=(0,r.Uk)("Account Details"),u=(0,r.Uk)("Clear"),i=(0,r.Uk)("Save"),l=(0,r.Uk)("Close");function c(e,t,n,c,s,d){var f=(0,r.up)("v-avatar"),m=(0,r.up)("v-card-avatar"),v=(0,r.up)("v-card-title"),p=(0,r.up)("v-card-header-text"),w=(0,r.up)("v-card-header"),g=(0,r.up)("v-text-field"),k=(0,r.up)("v-col"),h=(0,r.up)("v-row"),b=(0,r.up)("v-container"),_=(0,r.up)("v-card-text"),y=(0,r.up)("v-divider"),W=(0,r.up)("v-btn"),Z=(0,r.up)("v-card-actions"),U=(0,r.up)("v-card"),D=(0,r.up)("v-snackbar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(U,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{icon:"mdi-account-edit-outline"})]})),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[a]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(_,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{fluid:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(k,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.name=t}),label:"Username","hide-details":"auto",rules:e.rules,style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1}),(0,r.Wm)(k,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.organization,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.organization=t}),label:"Organization","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(k,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.serverUrl,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.serverUrl=t}),label:"Server-Url","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(y),(0,r.Wm)(Z,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(W,{onClick:e.clear},{default:(0,r.w5)((function(){return[u]})),_:1},8,["onClick"]),(0,r.Wm)(W,{color:"primary",onClick:t[3]||(t[3]=function(t){return e.save(e.state.name,e.state.organization,e.state.serverUrl)})},{default:(0,r.w5)((function(){return[i]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(D,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.state.snackbar=t}),timeout:2e3},{action:(0,r.w5)((function(n){var o=n.attrs;return[(0,r.Wm)(W,(0,r.dG)({color:"blue",text:""},o,{onClick:t[4]||(t[4]=function(t){return e.state.snackbar=!1})}),{default:(0,r.w5)((function(){return[l]})),_:2},1040)]})),default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(e.state.message)+" ",1)]})),_:1},8,["modelValue"])],64)}n(8862);var s=n(2262),d=n(5621),f=n(5024),m=(0,r.aZ)({name:"AccountView",setup:function(e,t){var n=t.emit,o=(0,s.qj)({snackbar:!1,message:"",name:"",organization:"",serverUrl:""});(0,r.bv)((function(){var e=f.Z.getAccount();console.log("AccountView.onMounted: "+JSON.stringify(e)),o.name=e.name,o.organization=e.organization,o.serverUrl=e.serverUrl}));var a=[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.organization,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.serverUrl,a=new d.m(e,t,r);console.log("AccountView.save: "+JSON.stringify(a)),o.snackbar=!0,o.message="Account details saved for "+e,f.Z.saveAccount(a),console.log("AccountView.save emits 'account-saved'"),n("on-account-saved")},i=function(){o.name="",o.organization="",o.serverUrl="",o.message=""};return{state:o,rules:a,save:u,clear:i}}}),v=n(3744);const p=(0,v.Z)(m,[["render",c]]);var w=p}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var u=1/0;for(s=0;s<e.length;s++){r=e[s][0],o=e[s][1],a=e[s][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,a<u&&(u=a));if(i){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"-legacy."+{170:"942412f3",506:"fbc8707f",572:"52f00f2a",814:"a01cef77",877:"8ca6be58"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="shoppinglistmanager:";n.l=function(r,o,a,u){if(e[r])e[r].push(o);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var d=c[s];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(m);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/pwa-test/"}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var u=n.p+n.u(t),i=new Error,l=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+u+")",i.name="ChunkLoadError",i.type=a,i.request=u,o[1](i)}};n.l(u,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,u=r[0],i=r[1],l=r[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var s=l(n)}for(t&&t(r);c<u.length;c++)a=u[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=self["webpackChunkshoppinglistmanager"]=self["webpackChunkshoppinglistmanager"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1693)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.d6747e4a.js.map