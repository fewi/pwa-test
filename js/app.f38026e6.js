(function(){"use strict";var e={8126:function(e,t,a){var n=a(9963),o=(a(6375),a(9811)),s=a(746),l=a(8600),r=(0,o.Rd)({components:s,directives:l}),i=a(6252),u=a(3577);const c=(0,i.Uk)("PWA Demo");function d(e,t,a,n,o,s){const l=(0,i.up)("navigation-drawer"),r=(0,i.up)("v-navigation-drawer"),d=(0,i.up)("v-app-bar-nav-icon"),m=(0,i.up)("v-app-bar-title"),p=(0,i.up)("v-spacer"),v=(0,i.up)("v-icon"),f=(0,i.up)("v-btn"),w=(0,i.up)("v-app-bar"),g=(0,i.up)("account-dialog"),k=(0,i.up)("router-view"),h=(0,i.up)("v-container"),b=(0,i.up)("v-main"),_=(0,i.up)("v-app"),W=(0,i.up)("v-theme-provider");return(0,i.wg)(),(0,i.j4)(W,{theme:"dark","with-background":""},{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:e.state.drawer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.drawer=t),app:""},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{account:e.loadAccount(),onHideDrawer:e.hideDrawer},null,8,["account","onHideDrawer"])])),_:1},8,["modelValue"]),(0,i.Wm)(w,{app:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{onClick:t[1]||(t[1]=t=>e.state.drawer=!e.state.drawer)}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[c])),_:1}),(0,i.Wm)(p),(0,i.Wm)(f,{class:(0,u.C_)(e.state.onlineStatusStyle),onClick:t[2]||(t[2]=t=>e.sync())},{default:(0,i.w5)((()=>[(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.state.onlineStatusIcon),1)])),_:1})])),_:1},8,["class"])])),_:1}),(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{fluid:""},{default:(0,i.w5)((()=>[(0,i.Wm)(g),(0,i.Wm)(k)])),_:1})])),_:1})])),_:1})])),_:1})}var m=a(2262);function p(e,t,a,n,o,s){const l=(0,i.up)("v-list-item-title"),r=(0,i.up)("v-list-item-subtitle"),c=(0,i.up)("v-list-item"),d=(0,i.up)("v-list"),m=(0,i.up)("v-divider"),p=(0,i.up)("v-list-item-icon"),v=(0,i.up)("v-container");return(0,i.wg)(),(0,i.j4)(v,{onClick:e.itemSelected},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{density:"comfortable"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.account.name),1)])),_:1}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.account.organization),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(m),(0,i.Wm)(d,{density:"comfortable"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.state.items,(t=>((0,i.wg)(),(0,i.j4)(c,{key:t.title,to:t.route,link:"",onClick:e.itemSelected},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{style:{"margin-right":"1em"},icon:"{{ item.icon }}"}),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(t.title),1)])),_:2},1024)])),_:2},1032,["to","onClick"])))),128))])),_:1})])),_:1},8,["onClick"])}var v=a(5621),f=(0,i.aZ)({name:"NavigationDrawer",props:{account:v.m},setup(e,{emit:t}){const a=(0,m.qj)({drawer:!1,items:[{title:"Baskets",icon:"mdi-shopping-outline",route:"/home"},{title:"Settings",icon:"mdi-application-settings",route:"/settings"},{title:"Catalogs",icon:"mdi-book-open-variant",route:"/catalogs"},{title:"Account",icon:"mdi-account-edit-outline",route:"/account"},{title:"About",icon:"mdi-chat-question-outline",route:"/about"}]});(0,i.bv)((()=>{window.addEventListener("keydown",(e=>{"Escape"===e.code&&(a.drawer=!1)}))})),(0,i.Ah)((()=>{window.removeEventListener("keydown",(e=>{"Escape"===e.code&&(a.drawer=!1)}))}));const n=()=>{t("hide-drawer")};return{state:a,itemSelected:n}}}),w=a(3744);const g=(0,w.Z)(f,[["render",p]]);var k=g;function h(e,t,a,n,o,s){const l=(0,i.up)("account-view"),r=(0,i.up)("v-dialog");return(0,i.wg)(),(0,i.j4)(r,{modelValue:e.state.showDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.showDialog=t),persistent:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{onOnAccountSaved:e.closeDialog},null,8,["onOnAccountSaved"])])),_:1},8,["modelValue"])}var b=a(2314),_=a(5024),W=(0,i.aZ)({name:"AccountDialog",components:{AccountView:b["default"]},setup(){const e=(0,m.qj)({showDialog:!1});(0,i.bv)((()=>{e.showDialog=!_.Z.localStorageInitialized}));const t=()=>{e.showDialog=!1};return{state:e,closeDialog:t}}});const y=(0,w.Z)(W,[["render",h]]);var U=y,A=a(3907),C=a(9905),D=a(5293),S=(0,i.aZ)({name:"App",components:{AccountDialog:U,NavigationDrawer:k},setup(){const e=(0,A.oR)(),t=(0,m.qj)({drawer:!1,onlineStatusIcon:"mdi-sync-off",onlineStatusStyle:"offline"});e.dispatch(C.U.InitBaskets),(0,i.bv)((()=>{n(),window.addEventListener("online",n),window.addEventListener("offline",n),window.addEventListener("keydown",(e=>{"Escape"===e.code&&a()}))})),(0,i.Ah)((()=>{window.removeEventListener("keydown",(e=>{"Escape"===e.code&&a()}))}));const a=()=>{t.drawer=!1},n=()=>{t.onlineStatusStyle=D.Z.isOnline?"online":"offline",t.onlineStatusIcon=D.Z.isOnline?"mdi-sync":"mdi-sync-off",console.log("App.updateOnlineStatus: status is "+t.onlineStatusStyle)},o=()=>_.Z.getAccount(),s=()=>{console.log("sync not implemented yet")};return{store:e,state:t,hideDrawer:a,updateOnlineStatus:n,loadAccount:o,sync:s}}});const B=(0,w.Z)(S,[["render",d],["__scopeId","data-v-27174e04"]]);var Z=B,E=a(2119);const O=(0,i.Uk)("mdi-plus"),V=(0,i.Uk)("mdi-magnify"),L=(0,i.Uk)("12 items"),N=(0,i.Uk)("Details"),I=(0,i.Uk)("Delete");function T(e,t,a,n,o,s){const l=(0,i.up)("v-icon"),r=(0,i.up)("v-btn"),c=(0,i.up)("v-spacer"),d=(0,i.up)("v-card-subtitle"),m=(0,i.up)("v-card-actions"),p=(0,i.up)("v-card"),v=(0,i.up)("v-avatar"),f=(0,i.up)("v-badge"),w=(0,i.up)("v-card-avatar"),g=(0,i.up)("v-card-title"),k=(0,i.up)("v-card-header-text"),h=(0,i.up)("v-card-header"),b=(0,i.up)("v-card-text"),_=(0,i.up)("v-col"),W=(0,i.up)("v-row"),y=(0,i.up)("v-container"),U=(0,i.up)("basket-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(y,{fluid:""},{default:(0,i.w5)((()=>[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{flat:"",style:{"background-color":"transparent"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{icon:"",size:"x-small",style:{"margin-top":"-20px"},onClick:e.openBasketDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[O])),_:1})])),_:1},8,["onClick"]),(0,i.Wm)(r,{icon:"",size:"x-small",style:{"margin-top":"-20px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[V])),_:1})])),_:1}),(0,i.Wm)(c),(0,i.Wm)(d,{link:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.state.baskets.length)+" Baskets",1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(p,{style:{"background-color":"transparent"}},{default:(0,i.w5)((()=>[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.state.baskets,(t=>((0,i.wg)(),(0,i.j4)(_,{key:t.id,cols:"12",sm:"6",md:"4",xl:"3"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f,{bordered:"",color:"error",icon:"mdi-lock"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{color:"orange",size:"48"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.computeAcronym(t)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(t.id)+" - "+(0,u.zw)(t.name),1)])),_:2},1024),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(t.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[L])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{to:e.basketRoute(t)},{default:(0,i.w5)((()=>[N])),_:2},1032,["to"]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[I])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(U,{basket:e.createBasket(),showDialog:e.state.showBasketDialog,onOnCloseDialog:e.closeDialog},null,8,["basket","showDialog","onOnCloseDialog"])],64)}var R=a(632);function x(e,t,a,n,o,s){const l=(0,i.up)("v-btn"),r=(0,i.up)("v-card-actions"),u=(0,i.up)("basket-panel"),c=(0,i.up)("v-card-text"),d=(0,i.up)("v-divider"),m=(0,i.up)("v-card"),p=(0,i.up)("v-dialog");return(0,i.wg)(),(0,i.j4)(p,{modelValue:e.state.showBasketDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.showBasketDialog=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"mdi-close",size:"x-small",onClick:e.closeDialog},null,8,["onClick"])])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{basket:e.state.basket,onOnBasketSaved:e.closeDialog},null,8,["basket","onOnBasketSaved"])])),_:1}),(0,i.Wm)(d),(0,i.Wm)(r)])),_:1})])),_:1},8,["modelValue"])}const z=(0,i.Uk)("Create new Basket"),j=(0,i.Uk)("Clear"),P=(0,i.Uk)("Save"),M=(0,i.Uk)("Close");function q(e,t,a,n,o,s){const l=(0,i.up)("v-avatar"),r=(0,i.up)("v-card-avatar"),c=(0,i.up)("v-card-title"),d=(0,i.up)("v-card-header-text"),m=(0,i.up)("v-card-header"),p=(0,i.up)("v-text-field"),v=(0,i.up)("v-col"),f=(0,i.up)("v-row"),w=(0,i.up)("v-container"),g=(0,i.up)("v-card-text"),k=(0,i.up)("v-divider"),h=(0,i.up)("v-btn"),b=(0,i.up)("v-card-actions"),_=(0,i.up)("v-card"),W=(0,i.up)("v-snackbar");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"mdi-account-edit-outline"})])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:1})])),_:1}),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{fluid:""},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.name=t),label:"Name",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(v,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:e.state.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.description=t),label:"Description",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k),(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onClick:e.clear},{default:(0,i.w5)((()=>[j])),_:1},8,["onClick"]),(0,i.Wm)(h,{color:"primary",onClick:t[2]||(t[2]=t=>e.save(e.state.name,e.state.description))},{default:(0,i.w5)((()=>[P])),_:1})])),_:1})])),_:1}),(0,i.Wm)(W,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[4]||(t[4]=t=>e.state.snackbar=t),timeout:2e3},{action:(0,i.w5)((({attrs:a})=>[(0,i.Wm)(h,(0,i.dG)({color:"blue",text:""},a,{onClick:t[3]||(t[3]=t=>e.state.snackbar=!1)}),{default:(0,i.w5)((()=>[M])),_:2},1040)])),default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(e.state.message)+" ",1)])),_:1},8,["modelValue"])],64)}var F=(0,i.aZ)({name:"BasketPanel",props:{basket:R.L},setup(e,{emit:t}){const a=(0,A.oR)(),n=(0,m.qj)({snackbar:!1,message:"",name:"",description:""}),o=[e=>!!e||"Required.",e=>e&&e.length>=3||"Min 3 characters"];(0,i.bv)((()=>{n.name=e.basket?e.basket.name:"",n.description=e.basket?e.basket.description:""})),(0,i.ic)((()=>{n.name=e.basket?e.basket.name:"",n.description=e.basket?e.basket.description:""}));const s=(e=n.name,o=n.description)=>{a.dispatch(C.U.CreateBasket,new R.L(e,o)),t("on-basket-saved")},l=()=>{n.name="",n.description="",n.message=""};return{state:n,rules:o,save:s,clear:l}}});const H=(0,w.Z)(F,[["render",q]]);var J=H,G=(0,i.aZ)({name:"BasketDialog",components:{BasketPanel:J},props:{basket:R.L,showDialog:Boolean},setup(e,{emit:t}){const a=(0,m.qj)({showBasketDialog:e.showDialog,basket:e.basket});(0,i.bv)((()=>{a.basket=e.basket,a.showBasketDialog=e.showDialog})),(0,i.ic)((()=>{a.basket=e.basket,a.showBasketDialog=e.showDialog}));const n=()=>{a.showBasketDialog=!1,t("on-close-dialog")};return{state:a,closeDialog:n}}});const Y=(0,w.Z)(G,[["render",x]]);var K=Y,X=a(619),Q=(0,i.aZ)({name:"BasketsOverview",components:{BasketDialog:K},setup(){const e=(0,m.qj)({baskets:new Array,showBasketDialog:!1});(0,i.bv)((()=>{l()})),(0,i.ic)((()=>{l()}));const t=e=>e.name.substr(0,2).toUpperCase(),a=e=>"/baskets/"+e.id,n=()=>{e.showBasketDialog=!0},o=()=>new R.L,s=()=>{e.showBasketDialog=!1},l=()=>{X.Z.getBaskets().then((t=>{e.baskets=t}))};return{state:e,computeAcronym:t,basketRoute:a,createBasket:o,openBasketDialog:n,closeDialog:s,loadBaskets:l}}});const $=(0,w.Z)(Q,[["render",T]]);var ee=$;const te=[{path:"/settings",component:()=>a.e(814).then(a.bind(a,4814))},{path:"/catalogs",component:()=>a.e(473).then(a.bind(a,1473))},{path:"/account",component:()=>Promise.resolve().then(a.bind(a,2314))},{path:"/about",component:()=>a.e(877).then(a.bind(a,6877))},{path:"/baskets/:basketId",props:!0,component:()=>a.e(643).then(a.bind(a,7643))},{path:"/:catchAll(.*)",props:!0,component:ee}],ae=(0,E.p7)({history:(0,E.PO)("/"),routes:te});var ne=ae,oe=a(5156);const se={baskets:Array()};var le=(0,A.MT)({state:se,mutations:oe.P,actions:C.N,modules:{}});(0,n.ri)(Z).use(ne).use(le).use(r).mount("#app")},5621:function(e,t,a){a.d(t,{m:function(){return o}});var n=a(2482);class o{constructor(e="",t="",a=""){(0,n.Z)(this,"name",void 0),(0,n.Z)(this,"organization",void 0),(0,n.Z)(this,"serverUrl",void 0),this.name=e,this.organization=t,this.serverUrl=a}}},632:function(e,t,a){a.d(t,{L:function(){return r}});var n,o,s=a(2482);(function(e){e[e["CREATED"]=0]="CREATED",e[e["CHANGED"]=1]="CHANGED",e[e["DELETED"]=2]="DELETED"})(n||(n={}));class l{constructor(e,t,a){(0,s.Z)(this,"_revisor",void 0),(0,s.Z)(this,"_revisionDate",void 0),(0,s.Z)(this,"_revisionType",void 0),this._revisor=e,this._revisionDate=t,this._revisionType=a}get revisor(){return this._revisor}get revisionDate(){return this._revisionDate}get revisionType(){return this._revisionType}}(function(e){e[e["PRIVATE"]=0]="PRIVATE",e[e["PUBLIC"]=1]="PUBLIC"})(o||(o={}));class r extends l{constructor(e="",t=""){super("todo",new Date,n.CREATED),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"description",void 0),(0,s.Z)(this,"image",void 0),(0,s.Z)(this,"positions",void 0),(0,s.Z)(this,"owner",void 0),(0,s.Z)(this,"ownership",o.PRIVATE),this.name=e,this.description=t,this.positions=[]}}},6113:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(2482),o=(a(6699),a(9520));class s extends o.ZP{constructor(){super("Article"),(0,n.Z)(this,"articles",void 0),this.version(1).stores({articles:"++id,name,description"})}}class l{constructor(){(0,n.Z)(this,"db",new s)}async getArticles(){return this.db.articles.toArray()}async getLocalArticleCount(){return this.db.articles.count()}async searchArticlesByName(e){return this.db.articles.filter((t=>t.name.toLowerCase().includes(e.toLowerCase()))).toArray()}async searchArticlesByDescription(e){return this.db.articles.filter((t=>t.description.toLowerCase().includes(e.toLowerCase()))).toArray()}async store(e){return console.log("ArticleDBService.store store "+e.length+" articles"),this.db.articles.bulkPut(e).then((()=>e.length))}async clear(){this.db.articles.clear()}}var r=new l},619:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(2482),o=a(9520);class s extends o.ZP{constructor(){super("Basket"),(0,n.Z)(this,"baskets",void 0),this.version(1).stores({baskets:"++id,name,description"})}}class l{constructor(){(0,n.Z)(this,"db",new s)}async create(e){return this.db.baskets.add(e)}async getBaskets(){return this.db.baskets.toArray()}async getBasket(e){return this.db.baskets.get(e)}async update(e){e.id&&this.db.baskets.update(e.id,e)}async delete(e){this.db.baskets.delete(e)}async clear(){this.db.baskets.clear()}async storeData(e){return this.db.baskets.bulkPut(e)}}var r=new l},3471:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(9669),o=a.n(n),s=a(2482);class l{constructor(e,t,a,n,o){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"description",void 0),(0,s.Z)(this,"catalogName",void 0),(0,s.Z)(this,"base64Image",void 0),this.id=e,this.name=t,this.description=a,this.catalogName=o,this.base64Image=n}}var r=a(5024);class i{async getAvailableCatalogs(){const e=r.Z.getServerUrl()+"/catalogs",t=o().get(e);return t.then((e=>e.data.catalogs)).catch((e=>(console.error(e),[])))}async loadCatalog(e){const t=r.Z.getServerUrl()+"/articles",a=o().get(t,{params:{catalogName:e}});return a.then((e=>e.data.articles)).then((t=>t.map((t=>new l(e+"-"+t.id,t.name,t.description,t.base64Image,e))))).catch((e=>(console.error(e),[])))}}var u=new i},5024:function(e,t,a){var n,o=a(2482),s=a(5621);(function(e){e["ACCOUNT_NAME"]="account.name",e["ACCOUNT_ORGANIZATION"]="account.organization",e["ACCOUNT_SERVER_URL"]="account.serverUrl"})(n||(n={}));class l{get localStorageSupported(){return"localStorage"in window}get localStorageInitialized(){return!!this.localStorageSupported&&null!==localStorage.getItem(n.ACCOUNT_NAME)}saveAccount(e){this.localStorageSupported&&(localStorage.setItem(n.ACCOUNT_NAME,e.name),localStorage.setItem(n.ACCOUNT_ORGANIZATION,e.organization),localStorage.setItem(n.ACCOUNT_SERVER_URL,e.serverUrl))}getServerUrl(){const e=localStorage.getItem(n.ACCOUNT_SERVER_URL);return null!=e?e:l.DEFAULT_SERVER_URL}getAccount(){if(this.localStorageSupported){let e="",t="",a=l.DEFAULT_SERVER_URL;for(let o=0;o<localStorage.length;o++){const s=localStorage.key(o),l=localStorage.getItem(null==s?"":s);s===n.ACCOUNT_NAME&&(e=null==l?e:l),s===n.ACCOUNT_ORGANIZATION&&(t=null==l?t:l),s===n.ACCOUNT_SERVER_URL&&(a=null==l?a:l)}return new s.m(e,t,a)}return new s.m}clear(){this.localStorageSupported&&localStorage.clear()}}(0,o.Z)(l,"DEFAULT_SERVER_URL","http://localhost:8081"),t["Z"]=new l},5293:function(e,t){class a{get isOnline(){return navigator.onLine}registerOnlineStatusUpdateListener(e){window.addEventListener("online",e),window.addEventListener("offline",e)}}t["Z"]=new a},9905:function(e,t,a){a.d(t,{N:function(){return u},U:function(){return n}});var n,o=a(632),s=a(619),l=a(5156),r=a(6113),i=a(3471);(function(e){e["LoadCatalog"]="loadCatalog",e["CreateBasket"]="createBasket",e["StoreBasketImage"]="storeBasketImage",e["InitBaskets"]="initBaskets"})(n||(n={}));const u={loadCatalog({commit:e},t){i.Z.loadCatalog(t.catalogName).then((e=>{r.Z.store(e).then((e=>{console.log("Fetched "+e+" articles from catalog "+t.catalogName+" on server and put to local database.")}))}))},createBasket({commit:e},t){s.Z.create(t).then((a=>{t.id=a,e(l.x.AddBasket,t),console.log("Basket created: "+a)}))},storeBasketImage({commit:e},t){console.log("Action.storeBasketImage: "+JSON.stringify(t)),s.Z.getBasket(t.basketId).then((a=>{a&&(a.image=t.imageDataUrl,s.Z.update(a).then((()=>{e(l.x.UpdateBasket,a)})))}))},initBaskets({commit:e}){const t=[new o.L("Supermarket XXL","Mon, 12. July 2021"),new o.L("My Favourite Shop","Tue, 22. July 2021"),new o.L("Local Fresh Discounter","Mon, 12. July 2021"),new o.L("Weekly Market","Fri, 29. July 2021"),new o.L("DIY Store","Mon, 12. July 2021")];s.Z.storeData(t).then((t=>{s.Z.getBaskets().then((t=>{e(l.x.InitBaskets,t)}))}))}}},5156:function(e,t,a){var n;a.d(t,{P:function(){return o},x:function(){return n}}),function(e){e["AddBasket"]="addBasket",e["UpdateBasket"]="updateBasket",e["InitBaskets"]="initBaskets"}(n||(n={}));const o={addBasket(e,t){e.baskets.push(t)},updateBasket(e,t){const a=e.baskets.findIndex((e=>e.id===t.id));console.log("Mutation.updateBasket: Index to update is "+t.id),-1!=a&&e.baskets.splice(a,1,t)},initBaskets(e,t){e.baskets=t}}},2314:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(6252),o=a(3577);const s=(0,n.Uk)("Account Details"),l=(0,n.Uk)("Clear"),r=(0,n.Uk)("Save"),i=(0,n.Uk)("Close");function u(e,t,a,u,c,d){const m=(0,n.up)("v-avatar"),p=(0,n.up)("v-card-avatar"),v=(0,n.up)("v-card-title"),f=(0,n.up)("v-card-header-text"),w=(0,n.up)("v-card-header"),g=(0,n.up)("v-text-field"),k=(0,n.up)("v-col"),h=(0,n.up)("v-row"),b=(0,n.up)("v-container"),_=(0,n.up)("v-card-text"),W=(0,n.up)("v-divider"),y=(0,n.up)("v-btn"),U=(0,n.up)("v-card-actions"),A=(0,n.up)("v-card"),C=(0,n.up)("v-snackbar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(A,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{icon:"mdi-account-edit-outline"})])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[s])),_:1})])),_:1})])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.name=t),label:"Username","hide-details":"auto",rules:e.rules,style:{color:"white"}},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(k,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{modelValue:e.state.organization,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.organization=t),label:"Organization","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])])),_:1}),(0,n.Wm)(k,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{modelValue:e.state.serverUrl,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.serverUrl=t),label:"Server-Url","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(W),(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onClick:e.clear},{default:(0,n.w5)((()=>[l])),_:1},8,["onClick"]),(0,n.Wm)(y,{color:"primary",onClick:t[3]||(t[3]=t=>e.save(e.state.name,e.state.organization,e.state.serverUrl))},{default:(0,n.w5)((()=>[r])),_:1})])),_:1})])),_:1}),(0,n.Wm)(C,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[5]||(t[5]=t=>e.state.snackbar=t),timeout:2e3},{action:(0,n.w5)((({attrs:a})=>[(0,n.Wm)(y,(0,n.dG)({color:"blue",text:""},a,{onClick:t[4]||(t[4]=t=>e.state.snackbar=!1)}),{default:(0,n.w5)((()=>[i])),_:2},1040)])),default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.state.message)+" ",1)])),_:1},8,["modelValue"])],64)}var c=a(2262),d=a(5621),m=a(5024),p=(0,n.aZ)({name:"AccountView",setup(e,{emit:t}){const a=(0,c.qj)({snackbar:!1,message:"",name:"",organization:"",serverUrl:""});(0,n.bv)((()=>{let e=m.Z.getAccount();console.log("AccountView.onMounted: "+JSON.stringify(e)),a.name=e.name,a.organization=e.organization,a.serverUrl=e.serverUrl}));const o=[e=>!!e||"Required.",e=>e&&e.length>=3||"Min 3 characters"],s=(e=a.name,n=a.organization,o=a.serverUrl)=>{let s=new d.m(e,n,o);console.log("AccountView.save: "+JSON.stringify(s)),a.snackbar=!0,a.message="Account details saved for "+e,m.Z.saveAccount(s),console.log("AccountView.save emits 'account-saved'"),t("on-account-saved")},l=()=>{a.name="",a.organization="",a.serverUrl="",a.message=""};return{state:a,rules:o,save:s,clear:l}}}),v=a(3744);const f=(0,v.Z)(p,[["render",u]]);var w=f}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,s){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],s=e[c][2];for(var r=!0,i=0;i<n.length;i++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{473:"f9de0d7e",643:"8f131dbc",814:"a4c40c07",877:"b7f9b834"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="shoppinglistmanager:";a.l=function(n,o,s,l){if(e[n])e[n].push(o);else{var r,i;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){r=d;break}}r||(i=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+s),r.src=n),e[n]=[o];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),i&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=s);var l=a.p+a.u(t),r=new Error,i=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",r.name="ChunkLoadError",r.type=s,r.request=l,o[1](r)}};a.l(l,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,l=n[0],r=n[1],i=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var c=i(a)}for(t&&t(n);u<l.length;u++)s=l[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self["webpackChunkshoppinglistmanager"]=self["webpackChunkshoppinglistmanager"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(8126)}));n=a.O(n)})();
//# sourceMappingURL=app.f38026e6.js.map