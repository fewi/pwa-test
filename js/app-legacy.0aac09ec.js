(function(){"use strict";var e={5071:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(9963),a=(n(6375),n(9811)),o=n(746),u=n(8600),i=(0,a.Rd)({components:o,directives:u}),c=n(6252),s=n(3577),l=(0,c.Uk)("PWA Demo");function d(e,t,n,r,a,o){var u=(0,c.up)("navigation-drawer"),i=(0,c.up)("v-navigation-drawer"),d=(0,c.up)("v-app-bar-nav-icon"),f=(0,c.up)("v-app-bar-title"),p=(0,c.up)("v-spacer"),m=(0,c.up)("v-icon"),v=(0,c.up)("v-btn"),w=(0,c.up)("v-app-bar"),g=(0,c.up)("account-dialog"),h=(0,c.up)("router-view"),k=(0,c.up)("v-container"),b=(0,c.up)("v-main"),y=(0,c.up)("v-app"),Z=(0,c.up)("v-theme-provider");return(0,c.wg)(),(0,c.j4)(Z,{theme:"dark","with-background":""},{default:(0,c.w5)((function(){return[(0,c.Wm)(y,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(i,{modelValue:e.state.drawer,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.drawer=t}),app:""},{default:(0,c.w5)((function(){return[(0,c.Wm)(u,{account:e.loadAccount(),onHideDrawer:e.hideDrawer},null,8,["account","onHideDrawer"])]})),_:1},8,["modelValue"]),(0,c.Wm)(w,{app:""},{default:(0,c.w5)((function(){return[(0,c.Wm)(d,{onClick:t[1]||(t[1]=function(t){return e.state.drawer=!e.state.drawer})}),(0,c.Wm)(f,null,{default:(0,c.w5)((function(){return[l]})),_:1}),(0,c.Wm)(p),(0,c.Wm)(v,{class:(0,s.C_)(e.state.onlineStatusStyle),onClick:t[2]||(t[2]=function(t){return e.sync()})},{default:(0,c.w5)((function(){return[(0,c.Wm)(m,null,{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.state.onlineStatusIcon),1)]})),_:1})]})),_:1},8,["class"])]})),_:1}),(0,c.Wm)(b,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(k,{fluid:""},{default:(0,c.w5)((function(){return[(0,c.Wm)(g),(0,c.Wm)(h)]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var f=n(2262);n(8309);function p(e,t,n,r,a,o){var u=(0,c.up)("v-list-item-title"),i=(0,c.up)("v-list-item-subtitle"),l=(0,c.up)("v-list-item"),d=(0,c.up)("v-list"),f=(0,c.up)("v-divider"),p=(0,c.up)("v-list-item-icon"),m=(0,c.up)("v-container");return(0,c.wg)(),(0,c.j4)(m,{onClick:e.itemSelected},{default:(0,c.w5)((function(){return[(0,c.Wm)(d,{density:"comfortable"},{default:(0,c.w5)((function(){return[(0,c.Wm)(l,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(u,{class:"text-h6"},{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.account.name),1)]})),_:1}),(0,c.Wm)(i,null,{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.account.organization),1)]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(f),(0,c.Wm)(d,{density:"comfortable"},{default:(0,c.w5)((function(){return[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(e.state.items,(function(t){return(0,c.wg)(),(0,c.j4)(l,{key:t.title,to:t.route,link:"",onClick:e.itemSelected},{default:(0,c.w5)((function(){return[(0,c.Wm)(p,{style:{"margin-right":"1em"},icon:"{{ item.icon }}"}),(0,c.Wm)(u,null,{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(t.title),1)]})),_:2},1024)]})),_:2},1032,["to","onClick"])})),128))]})),_:1})]})),_:1},8,["onClick"])}var m=n(5621),v=(0,c.aZ)({name:"NavigationDrawer",props:{account:m.m},setup:function(e,t){var n=t.emit,r=(0,f.qj)({drawer:!1,items:[{title:"Baskets",icon:"mdi-shopping-outline",route:"/home"},{title:"Settings",icon:"mdi-application-settings",route:"/settings"},{title:"Catalogs",icon:"mdi-book-open-variant",route:"/catalogs"},{title:"Account",icon:"mdi-account-edit-outline",route:"/account"},{title:"About",icon:"mdi-chat-question-outline",route:"/about"}]});(0,c.bv)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r.drawer=!1)}))})),(0,c.Ah)((function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&(r.drawer=!1)}))}));var a=function(){n("hide-drawer")};return{state:r,itemSelected:a}}}),w=n(3744);const g=(0,w.Z)(v,[["render",p]]);var h=g;function k(e,t,n,r,a,o){var u=(0,c.up)("account-view"),i=(0,c.up)("v-dialog");return(0,c.wg)(),(0,c.j4)(i,{modelValue:e.state.showDialog,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.showDialog=t}),persistent:"true"},{default:(0,c.w5)((function(){return[(0,c.Wm)(u,{onOnAccountSaved:e.closeDialog},null,8,["onOnAccountSaved"])]})),_:1},8,["modelValue"])}var b=n(739),y=n(5024),Z=(0,c.aZ)({name:"AccountDialog",components:{AccountView:b["default"]},setup:function(){var e=(0,f.qj)({showDialog:!1});(0,c.bv)((function(){e.showDialog=!y.Z.localStorageInitialized}));var t=function(){e.showDialog=!1};return{state:e,closeDialog:t}}});const _=(0,w.Z)(Z,[["render",k]]);var W=_,A=n(3907),U=n(9905),C=n(5293),D=(0,c.aZ)({name:"App",components:{AccountDialog:W,NavigationDrawer:h},setup:function(){var e=(0,A.oR)(),t=(0,f.qj)({drawer:!1,onlineStatusIcon:"mdi-sync-off",onlineStatusStyle:"offline"});e.dispatch(U.U.InitBaskets),(0,c.bv)((function(){r(),window.addEventListener("online",r),window.addEventListener("offline",r),window.addEventListener("keydown",(function(e){"Escape"===e.code&&n()}))})),(0,c.Ah)((function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&n()}))}));var n=function(){t.drawer=!1},r=function(){t.onlineStatusStyle=C.Z.isOnline?"online":"offline",t.onlineStatusIcon=C.Z.isOnline?"mdi-sync":"mdi-sync-off",console.log("App.updateOnlineStatus: status is "+t.onlineStatusStyle)},a=function(){return y.Z.getAccount()},o=function(){console.log("sync not implemented yet")};return{store:e,state:t,hideDrawer:n,updateOnlineStatus:r,loadAccount:a,sync:o}}});const S=(0,w.Z)(D,[["render",d],["__scopeId","data-v-27174e04"]]);var R=S,B=(n(1539),n(8783),n(3948),n(2119)),E=(n(2526),n(1817),(0,c.Uk)("mdi-plus")),O=(0,c.Uk)("mdi-magnify"),x=(0,c.Uk)("12 items"),V=(0,c.Uk)("Details"),L=(0,c.Uk)("Delete");function N(e,t,n,r,a,o){var u=(0,c.up)("v-icon"),i=(0,c.up)("v-btn"),l=(0,c.up)("v-spacer"),d=(0,c.up)("v-card-subtitle"),f=(0,c.up)("v-card-actions"),p=(0,c.up)("v-card"),m=(0,c.up)("v-avatar"),v=(0,c.up)("v-badge"),w=(0,c.up)("v-card-avatar"),g=(0,c.up)("v-card-title"),h=(0,c.up)("v-card-header-text"),k=(0,c.up)("v-card-header"),b=(0,c.up)("v-card-text"),y=(0,c.up)("v-col"),Z=(0,c.up)("v-row"),_=(0,c.up)("v-container"),W=(0,c.up)("basket-dialog");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(_,{fluid:""},{default:(0,c.w5)((function(){return[(0,c.Wm)(Z,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(y,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(p,{flat:"",style:{"background-color":"transparent"}},{default:(0,c.w5)((function(){return[(0,c.Wm)(f,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(i,{icon:"",size:"x-small",style:{"margin-top":"-20px"},onClick:e.openBasketDialog},{default:(0,c.w5)((function(){return[(0,c.Wm)(u,null,{default:(0,c.w5)((function(){return[E]})),_:1})]})),_:1},8,["onClick"]),(0,c.Wm)(i,{icon:"",size:"x-small",style:{"margin-top":"-20px"}},{default:(0,c.w5)((function(){return[(0,c.Wm)(u,null,{default:(0,c.w5)((function(){return[O]})),_:1})]})),_:1}),(0,c.Wm)(l),(0,c.Wm)(d,{link:""},{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.state.baskets.length)+" Baskets",1)]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(p,{style:{"background-color":"transparent"}},{default:(0,c.w5)((function(){return[(0,c.Wm)(Z,null,{default:(0,c.w5)((function(){return[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(e.state.baskets,(function(t){return(0,c.wg)(),(0,c.j4)(y,{key:t.id,cols:"12",sm:"6",md:"4",xl:"3"},{default:(0,c.w5)((function(){return[(0,c.Wm)(p,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(k,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(w,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(v,{bordered:"",color:"error",icon:"mdi-lock"},{default:(0,c.w5)((function(){return[(0,c.Wm)(m,{color:"orange",size:"48"},{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.computeAcronym(t)),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),(0,c.Wm)(h,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(g,null,{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(t.id)+" - "+(0,s.zw)(t.name),1)]})),_:2},1024),(0,c.Wm)(d,null,{default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(t.description),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),(0,c.Wm)(b,null,{default:(0,c.w5)((function(){return[x]})),_:1}),(0,c.Wm)(f,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(i,{to:e.basketRoute(t)},{default:(0,c.w5)((function(){return[V]})),_:2},1032,["to"]),(0,c.Wm)(i,null,{default:(0,c.w5)((function(){return[L]})),_:1})]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(W,{basket:e.createBasket(),showDialog:e.state.showBasketDialog,onOnCloseDialog:e.closeDialog},null,8,["basket","showDialog","onOnCloseDialog"])],64)}var I=n(632);function T(e,t,n,r,a,o){var u=(0,c.up)("v-btn"),i=(0,c.up)("v-card-actions"),s=(0,c.up)("basket-panel"),l=(0,c.up)("v-card-text"),d=(0,c.up)("v-divider"),f=(0,c.up)("v-card"),p=(0,c.up)("v-dialog");return(0,c.wg)(),(0,c.j4)(p,{modelValue:e.state.showBasketDialog,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.showBasketDialog=t})},{default:(0,c.w5)((function(){return[(0,c.Wm)(f,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(i,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(u,{icon:"mdi-close",size:"x-small",onClick:e.closeDialog},null,8,["onClick"])]})),_:1}),(0,c.Wm)(l,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(s,{basket:e.state.basket,onOnBasketSaved:e.closeDialog},null,8,["basket","onOnBasketSaved"])]})),_:1}),(0,c.Wm)(d),(0,c.Wm)(i)]})),_:1})]})),_:1},8,["modelValue"])}var z=(0,c.Uk)("Create new Basket"),j=(0,c.Uk)("Clear"),P=(0,c.Uk)("Save"),M=(0,c.Uk)("Close");function q(e,t,n,r,a,o){var u=(0,c.up)("v-avatar"),i=(0,c.up)("v-card-avatar"),l=(0,c.up)("v-card-title"),d=(0,c.up)("v-card-header-text"),f=(0,c.up)("v-card-header"),p=(0,c.up)("v-text-field"),m=(0,c.up)("v-col"),v=(0,c.up)("v-row"),w=(0,c.up)("v-container"),g=(0,c.up)("v-card-text"),h=(0,c.up)("v-divider"),k=(0,c.up)("v-btn"),b=(0,c.up)("v-card-actions"),y=(0,c.up)("v-card"),Z=(0,c.up)("v-snackbar");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(y,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(f,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(i,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(u,{icon:"mdi-account-edit-outline"})]})),_:1}),(0,c.Wm)(d,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(l,null,{default:(0,c.w5)((function(){return[z]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(g,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(w,{fluid:""},{default:(0,c.w5)((function(){return[(0,c.Wm)(v,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(m,{cols:"12"},{default:(0,c.w5)((function(){return[(0,c.Wm)(p,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.name=t}),label:"Name",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1}),(0,c.Wm)(m,{cols:"12"},{default:(0,c.w5)((function(){return[(0,c.Wm)(p,{modelValue:e.state.description,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.description=t}),label:"Description",rules:e.rules,"hide-details":"auto",style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(h),(0,c.Wm)(b,null,{default:(0,c.w5)((function(){return[(0,c.Wm)(k,{onClick:e.clear},{default:(0,c.w5)((function(){return[j]})),_:1},8,["onClick"]),(0,c.Wm)(k,{color:"primary",onClick:t[2]||(t[2]=function(t){return e.save(e.state.name,e.state.description)})},{default:(0,c.w5)((function(){return[P]})),_:1})]})),_:1})]})),_:1}),(0,c.Wm)(Z,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.snackbar=t}),timeout:2e3},{action:(0,c.w5)((function(n){var r=n.attrs;return[(0,c.Wm)(k,(0,c.dG)({color:"blue",text:""},r,{onClick:t[3]||(t[3]=function(t){return e.state.snackbar=!1})}),{default:(0,c.w5)((function(){return[M]})),_:2},1040)]})),default:(0,c.w5)((function(){return[(0,c.Uk)((0,s.zw)(e.state.message)+" ",1)]})),_:1},8,["modelValue"])],64)}var F=(0,c.aZ)({name:"BasketPanel",props:{basket:I.L},setup:function(e,t){var n=t.emit,r=(0,A.oR)(),a=(0,f.qj)({snackbar:!1,message:"",name:"",description:""}),o=[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}];(0,c.bv)((function(){a.name=e.basket?e.basket.name:"",a.description=e.basket?e.basket.description:""})),(0,c.ic)((function(){a.name=e.basket?e.basket.name:"",a.description=e.basket?e.basket.description:""}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.description;r.dispatch(U.U.CreateBasket,new I.L(e,t)),n("on-basket-saved")},i=function(){a.name="",a.description="",a.message=""};return{state:a,rules:o,save:u,clear:i}}});const H=(0,w.Z)(F,[["render",q]]);var J=H,G=(0,c.aZ)({name:"BasketDialog",components:{BasketPanel:J},props:{basket:I.L,showDialog:Boolean},setup:function(e,t){var n=t.emit,r=(0,f.qj)({showBasketDialog:e.showDialog,basket:e.basket});(0,c.bv)((function(){r.basket=e.basket,r.showBasketDialog=e.showDialog})),(0,c.ic)((function(){r.basket=e.basket,r.showBasketDialog=e.showDialog}));var a=function(){r.showBasketDialog=!1,n("on-close-dialog")};return{state:r,closeDialog:a}}});const Y=(0,w.Z)(G,[["render",T]]);var K=Y,X=n(619),Q=(0,c.aZ)({name:"BasketsOverview",components:{BasketDialog:K},setup:function(){var e=(0,f.qj)({baskets:new Array,showBasketDialog:!1});(0,c.bv)((function(){u()})),(0,c.ic)((function(){u()}));var t=function(e){return e.name.substr(0,2).toUpperCase()},n=function(e){return"/baskets/"+e.id},r=function(){e.showBasketDialog=!0},a=function(){return new I.L},o=function(){e.showBasketDialog=!1},u=function(){X.Z.getBaskets().then((function(t){e.baskets=t}))};return{state:e,computeAcronym:t,basketRoute:n,createBasket:a,openBasketDialog:r,closeDialog:o,loadBaskets:u}}});const $=(0,w.Z)(Q,[["render",N]]);var ee=$,te=[{path:"/settings",component:function(){return n.e(814).then(n.bind(n,4814))}},{path:"/catalogs",component:function(){return n.e(41).then(n.bind(n,9041))}},{path:"/account",component:function(){return Promise.resolve().then(n.bind(n,739))}},{path:"/about",component:function(){return n.e(877).then(n.bind(n,6877))}},{path:"/baskets/:basketId",props:!0,component:function(){return n.e(572).then(n.bind(n,572))}},{path:"/:catchAll(.*)",props:!0,component:ee}],ne=(0,B.p7)({history:(0,B.PO)("/pwa-test/"),routes:te}),re=ne,ae=n(5156),oe={baskets:Array()},ue=(0,A.MT)({state:oe,mutations:ae.P,actions:U.N,modules:{}}),ie=n(5205);(0,ie.z)("".concat("/pwa-test/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),(0,r.ri)(R).use(re).use(ue).use(i).mount("#app")},5621:function(e,t,n){n.d(t,{m:function(){return u}});var r=n(2833),a=n(3087),o=n(2482),u=(n(8309),(0,r.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,a.Z)(this,e),(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"organization",void 0),(0,o.Z)(this,"serverUrl",void 0),this.name=t,this.organization=n,this.serverUrl=r})))},632:function(e,t,n){n.d(t,{L:function(){return f}});var r,a=n(2833),o=n(3087),u=n(2417),i=n(3806),c=n(5744),s=n(2482);n(8309),n(2526),n(1817);(function(e){e[e["CREATED"]=0]="CREATED",e[e["CHANGED"]=1]="CHANGED",e[e["DELETED"]=2]="DELETED"})(r||(r={}));var l,d=function(){function e(t,n,r){(0,o.Z)(this,e),(0,s.Z)(this,"_revisor",void 0),(0,s.Z)(this,"_revisionDate",void 0),(0,s.Z)(this,"_revisionType",void 0),this._revisor=t,this._revisionDate=n,this._revisionType=r}return(0,a.Z)(e,[{key:"revisor",get:function(){return this._revisor}},{key:"revisionDate",get:function(){return this._revisionDate}},{key:"revisionType",get:function(){return this._revisionType}}]),e}();(function(e){e[e["PRIVATE"]=0]="PRIVATE",e[e["PUBLIC"]=1]="PUBLIC"})(l||(l={}));var f=function(e){(0,i.Z)(n,e);var t=(0,c.Z)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,o.Z)(this,n),e=t.call(this,"todo",new Date,r.CREATED),(0,s.Z)((0,u.Z)(e),"id",void 0),(0,s.Z)((0,u.Z)(e),"name",void 0),(0,s.Z)((0,u.Z)(e),"description",void 0),(0,s.Z)((0,u.Z)(e),"image",void 0),(0,s.Z)((0,u.Z)(e),"positions",void 0),(0,s.Z)((0,u.Z)(e),"owner",void 0),(0,s.Z)((0,u.Z)(e),"ownership",l.PRIVATE),e.name=a,e.description=i,e.positions=[],e}return(0,a.Z)(n)}(d)},6113:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(8534),a=n(3087),o=n(2833),u=n(2482),i=(n(5666),n(1539),n(7327),n(6699),n(2023),n(8309),n(2526),n(1817),n(2417)),c=n(3806),s=n(5744),l=n(9520),d=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this,"Article"),(0,u.Z)((0,i.Z)(e),"articles",void 0),e.version(1).stores({articles:"++id,name,description"}),e}return(0,o.Z)(n)}(l.ZP),f=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"db",new d)}return(0,o.Z)(e,[{key:"getArticles",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.articles.toArray());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLocalArticleCount",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.articles.count());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchArticlesByName",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.articles.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).toArray());case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchArticlesByDescription",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.articles.filter((function(e){return e.description.toLowerCase().includes(t.toLowerCase())})).toArray());case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"store",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("ArticleDBService.store store "+t.length+" articles"),e.abrupt("return",this.db.articles.bulkPut(t).then((function(){return t.length})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.db.articles.clear();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),p=new f},619:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(8534),a=n(3087),o=n(2833),u=n(2482),i=(n(1539),n(5666),n(2417)),c=n(3806),s=n(5744),l=n(9520),d=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this,"Basket"),(0,u.Z)((0,i.Z)(e),"baskets",void 0),e.version(1).stores({baskets:"++id,name,description"}),e}return(0,o.Z)(n)}(l.ZP),f=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"db",new d)}return(0,o.Z)(e,[{key:"create",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.add(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBaskets",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.toArray());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBasket",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.get(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.id&&this.db.baskets.update(t.id,t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.db.baskets.delete(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.db.baskets.clear();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"storeData",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.baskets.bulkPut(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),p=new f},3471:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(8534),a=n(3087),o=n(2833),u=(n(1249),n(8309),n(2526),n(1817),n(5666),n(9669)),i=n.n(u),c=n(2482),s=(0,o.Z)((function e(t,n,r,o,u){(0,a.Z)(this,e),(0,c.Z)(this,"id",void 0),(0,c.Z)(this,"name",void 0),(0,c.Z)(this,"description",void 0),(0,c.Z)(this,"catalogName",void 0),(0,c.Z)(this,"base64Image",void 0),this.id=t,this.name=n,this.description=r,this.catalogName=u,this.base64Image=o})),l=n(5024),d=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"getAvailableCatalogs",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.Z.getServerUrl()+"/catalogs",n=i().get(t),e.abrupt("return",n.then((function(e){return e.data.catalogs})).catch((function(e){return console.error(e),[]})));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadCatalog",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.Z.getServerUrl()+"/articles",r=i().get(n,{params:{catalogName:t}}),e.abrupt("return",r.then((function(e){return e.data.articles})).then((function(e){return e.map((function(e){return new s(t+"-"+e.id,e.name,e.description,e.base64Image,t)}))})).catch((function(e){return console.error(e),[]})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=new d},5024:function(e,t,n){var r,a=n(3087),o=n(2833),u=n(2482),i=(n(8309),n(5621));(function(e){e["ACCOUNT_NAME"]="account.name",e["ACCOUNT_ORGANIZATION"]="account.organization",e["ACCOUNT_SERVER_URL"]="account.serverUrl"})(r||(r={}));var c=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"localStorageSupported",get:function(){return"localStorage"in window}},{key:"localStorageInitialized",get:function(){return!!this.localStorageSupported&&null!==localStorage.getItem(r.ACCOUNT_NAME)}},{key:"saveAccount",value:function(e){this.localStorageSupported&&(localStorage.setItem(r.ACCOUNT_NAME,e.name),localStorage.setItem(r.ACCOUNT_ORGANIZATION,e.organization),localStorage.setItem(r.ACCOUNT_SERVER_URL,e.serverUrl))}},{key:"getServerUrl",value:function(){var t=localStorage.getItem(r.ACCOUNT_SERVER_URL);return null!=t?t:e.DEFAULT_SERVER_URL}},{key:"getAccount",value:function(){if(this.localStorageSupported){for(var t="",n="",a=e.DEFAULT_SERVER_URL,o=0;o<localStorage.length;o++){var u=localStorage.key(o),c=localStorage.getItem(null==u?"":u);u===r.ACCOUNT_NAME&&(t=null==c?t:c),u===r.ACCOUNT_ORGANIZATION&&(n=null==c?n:c),u===r.ACCOUNT_SERVER_URL&&(a=null==c?a:c)}return new i.m(t,n,a)}return new i.m}},{key:"clear",value:function(){this.localStorageSupported&&localStorage.clear()}}]),e}();(0,u.Z)(c,"DEFAULT_SERVER_URL","http://localhost:8081"),t["Z"]=new c},5293:function(e,t,n){var r=n(3087),a=n(2833),o=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"isOnline",get:function(){return navigator.onLine}},{key:"registerOnlineStatusUpdateListener",value:function(e){window.addEventListener("online",e),window.addEventListener("offline",e)}}]),e}();t["Z"]=new o},9905:function(e,t,n){n.d(t,{N:function(){return s},U:function(){return r}});n(8862);var r,a=n(632),o=n(619),u=n(5156),i=n(6113),c=n(3471);(function(e){e["LoadCatalog"]="loadCatalog",e["CreateBasket"]="createBasket",e["StoreBasketImage"]="storeBasketImage",e["InitBaskets"]="initBaskets"})(r||(r={}));var s={loadCatalog:function(e,t){e.commit;c.Z.loadCatalog(t.catalogName).then((function(e){i.Z.store(e).then((function(e){console.log("Fetched "+e+" articles from catalog "+t.catalogName+" on server and put to local database.")}))}))},createBasket:function(e,t){var n=e.commit;o.Z.create(t).then((function(e){t.id=e,n(u.x.AddBasket,t),console.log("Basket created: "+e)}))},storeBasketImage:function(e,t){var n=e.commit;console.log("Action.storeBasketImage: "+JSON.stringify(t)),o.Z.getBasket(t.basketId).then((function(e){e&&(e.image=t.imageDataUrl,o.Z.update(e).then((function(){n(u.x.UpdateBasket,e)})))}))},initBaskets:function(e){var t=e.commit,n=[new a.L("Supermarket XXL","Mon, 12. July 2021"),new a.L("My Favourite Shop","Tue, 22. July 2021"),new a.L("Local Fresh Discounter","Mon, 12. July 2021"),new a.L("Weekly Market","Fri, 29. July 2021"),new a.L("DIY Store","Mon, 12. July 2021")];o.Z.storeData(n).then((function(e){o.Z.getBaskets().then((function(e){t(u.x.InitBaskets,e)}))}))}}},5156:function(e,t,n){n.d(t,{P:function(){return a},x:function(){return r}});var r;n(4553),n(561);(function(e){e["AddBasket"]="addBasket",e["UpdateBasket"]="updateBasket",e["InitBaskets"]="initBaskets"})(r||(r={}));var a={addBasket:function(e,t){e.baskets.push(t)},updateBasket:function(e,t){var n=e.baskets.findIndex((function(e){return e.id===t.id}));console.log("Mutation.updateBasket: Index to update is "+t.id),-1!=n&&e.baskets.splice(n,1,t)},initBaskets:function(e,t){e.baskets=t}}},739:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});n(8309);var r=n(6252),a=n(3577),o=(0,r.Uk)("Account Details"),u=(0,r.Uk)("Clear"),i=(0,r.Uk)("Save"),c=(0,r.Uk)("Close");function s(e,t,n,s,l,d){var f=(0,r.up)("v-avatar"),p=(0,r.up)("v-card-avatar"),m=(0,r.up)("v-card-title"),v=(0,r.up)("v-card-header-text"),w=(0,r.up)("v-card-header"),g=(0,r.up)("v-text-field"),h=(0,r.up)("v-col"),k=(0,r.up)("v-row"),b=(0,r.up)("v-container"),y=(0,r.up)("v-card-text"),Z=(0,r.up)("v-divider"),_=(0,r.up)("v-btn"),W=(0,r.up)("v-card-actions"),A=(0,r.up)("v-card"),U=(0,r.up)("v-snackbar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(A,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{icon:"mdi-account-edit-outline"})]})),_:1}),(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[o]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{fluid:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(k,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.name=t}),label:"Username","hide-details":"auto",rules:e.rules,style:{color:"white"}},null,8,["modelValue","rules"])]})),_:1}),(0,r.Wm)(h,{cols:"12",sm:"12",md:"12",xl:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.organization,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.organization=t}),label:"Organization","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(h,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:e.state.serverUrl,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.serverUrl=t}),label:"Server-Url","hide-details":"auto",style:{color:"white"}},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(Z),(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{onClick:e.clear},{default:(0,r.w5)((function(){return[u]})),_:1},8,["onClick"]),(0,r.Wm)(_,{color:"primary",onClick:t[3]||(t[3]=function(t){return e.save(e.state.name,e.state.organization,e.state.serverUrl)})},{default:(0,r.w5)((function(){return[i]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(U,{modelValue:e.state.snackbar,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.state.snackbar=t}),timeout:2e3},{action:(0,r.w5)((function(n){var a=n.attrs;return[(0,r.Wm)(_,(0,r.dG)({color:"blue",text:""},a,{onClick:t[4]||(t[4]=function(t){return e.state.snackbar=!1})}),{default:(0,r.w5)((function(){return[c]})),_:2},1040)]})),default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.state.message)+" ",1)]})),_:1},8,["modelValue"])],64)}n(8862);var l=n(2262),d=n(5621),f=n(5024),p=(0,r.aZ)({name:"AccountView",setup:function(e,t){var n=t.emit,a=(0,l.qj)({snackbar:!1,message:"",name:"",organization:"",serverUrl:""});(0,r.bv)((function(){var e=f.Z.getAccount();console.log("AccountView.onMounted: "+JSON.stringify(e)),a.name=e.name,a.organization=e.organization,a.serverUrl=e.serverUrl}));var o=[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.organization,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.serverUrl,o=new d.m(e,t,r);console.log("AccountView.save: "+JSON.stringify(o)),a.snackbar=!0,a.message="Account details saved for "+e,f.Z.saveAccount(o),console.log("AccountView.save emits 'account-saved'"),n("on-account-saved")},i=function(){a.name="",a.organization="",a.serverUrl="",a.message=""};return{state:a,rules:o,save:u,clear:i}}}),m=n(3744);const v=(0,m.Z)(p,[["render",s]]);var w=v}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var u=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],o=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||u>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,o<u&&(u=o));if(i){e.splice(l--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"-legacy."+{41:"a76da45a",572:"dad1ea8d",814:"a1c7a36f",877:"b7f9b834"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="shoppinglistmanager:";n.l=function(r,a,o,u){if(e[r])e[r].push(a);else{var i,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var d=s[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[a];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/pwa-test/"}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var u=n.p+n.u(t),i=new Error,c=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+u+")",i.name="ChunkLoadError",i.type=o,i.request=u,a[1](i)}};n.l(u,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,u=r[0],i=r[1],c=r[2],s=0;if(u.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var l=c(n)}for(t&&t(r);s<u.length;s++)o=u[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkshoppinglistmanager"]=self["webpackChunkshoppinglistmanager"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5071)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.0aac09ec.js.map