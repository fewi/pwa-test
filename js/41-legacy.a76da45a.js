"use strict";(self["webpackChunkshoppinglistmanager"]=self["webpackChunkshoppinglistmanager"]||[]).push([[41],{9041:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});n(8309),n(2222),n(2526),n(1817);var l=n(6252),a=n(3577),u=n(9963),r=(0,l.Uk)("Load Catalog"),i=(0,l.Uk)("The catalog of articles can be loaded in the local database (indexedDB) of this device. "),o=(0,l.Uk)("Load Catalog"),c=(0,l.Uk)("Clear Catalog"),s=(0,l.Uk)("Article Search"),f=(0,l.Uk)("Search Articles");function d(e,t,n,d,m,g){var w=(0,l.up)("v-card-title"),p=(0,l.up)("v-card-subtitle"),v=(0,l.up)("v-checkbox"),h=(0,l.up)("v-spacer"),W=(0,l.up)("v-container"),_=(0,l.up)("v-btn"),C=(0,l.up)("v-card-text"),b=(0,l.up)("v-card"),k=(0,l.up)("v-text-field"),I=(0,l.up)("v-col"),U=(0,l.up)("v-row"),y=(0,l.up)("v-list-item-title"),A=(0,l.up)("v-list-item-subtitle"),Z=(0,l.up)("v-img"),x=(0,l.up)("v-list-item-header"),S=(0,l.up)("v-list-item"),D=(0,l.up)("InfiniteScroll"),N=(0,l.up)("v-list");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(W,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(U,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(I,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(w,null,{default:(0,l.w5)((function(){return[r]})),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((function(){return[i]})),_:1}),(0,l.Wm)(C,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(W,{class:"d-flex justify-start flex-wrap ml-0"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.state.catalogs,(function(n){return(0,l.wg)(),(0,l.j4)(v,{key:n.name,modelValue:e.state.selectedCatalogNames,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state.selectedCatalogNames=t}),label:"".concat(n.name," (").concat(n.size,")"),value:"".concat(n.name),class:"flex-grow-0 flex-shrink-0 pr-4"},null,8,["modelValue","label","value"])})),128)),(0,l.Wm)(h,{class:"flex-grow-1"}),(0,l.Wm)(W,null,{default:(0,l.w5)((function(){return[(0,l.Uk)(" Current number of articles on device: "+(0,a.zw)(e.state.articlesCount),1)]})),_:1}),(0,l.Wm)(h,{class:"flex-grow-1"}),(0,l.Wm)(W,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,{disabled:!e.state.isOnline,onClick:e.loadCatalog},{default:(0,l.w5)((function(){return[o]})),_:1},8,["disabled","onClick"]),(0,l.Wm)(_,{onClick:e.clearCatalog},{default:(0,l.w5)((function(){return[c]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(w,null,{default:(0,l.w5)((function(){return[s]})),_:1}),(0,l.Wm)(C,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(W,{fluid:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(U,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(I,{cols:"9"},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,{modelValue:e.state.searchTerm,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.searchTerm=t}),"hide-details":"auto",label:"Enter a search term",style:{color:"white"},onKeyup:(0,u.D2)(e.onEnter,["enter"])},null,8,["modelValue","onKeyup"])]})),_:1}),(0,l.Wm)(I,{cols:"3"},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,{onClick:e.searchArticles},{default:(0,l.w5)((function(){return[f]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),(0,l.Wm)(U,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(I,null,{default:(0,l.w5)((function(){return[(0,l.Uk)(" Catalog Articles ("+(0,a.zw)(e.state.articles.length)+") ",1),(0,l.Wm)(N,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(D,(0,l.dG)(e.infinitScrollProps,{onLoadMoreItems:e.loadItems}),{default:(0,l.w5)((function(e){var t=e.item;return[(0,l.Wm)(S,{lines:"three"},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(y,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,a.zw)(t.id)+" - "+(0,a.zw)(t.name),1)]})),_:2},1024),(0,l.Wm)(A,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,a.zw)(t.description),1)]})),_:2},1024),(0,l.Wm)(A,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(Z,{disabled:""===t.base64Image,src:"data:image/png;base64,".concat(t.base64Image),style:{width:"30%"}},null,8,["disabled","src"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:1},16,["onLoadMoreItems"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l._)("div",null,(0,a.zw)(e.state.message),1)],64)}n(1539),n(4747),n(7042);var m=n(2262),g=n(3907),w=n(9905),p=n(6113),v=n(5293),h=n(3471);function W(e,t,n,a,u,r){var i=(0,l.Q2)("intersect");return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(function(t,n){return(0,l.wg)(),(0,l.iD)("div",{key:n},[(0,l.WI)(e.$slots,"default",{item:t})])})),128)),(0,l.wy)((0,l._)("div",null,null,512),[[i,e.onIntersect]])],64)}n(9653);var _=(0,l.aZ)({name:"InfiniteScroll",props:{items:Array,lastPage:Number,page:Number},setup:function(e,t){var n=t.emit;(0,l.bv)((function(){n("loadMoreItems",1)}));var a=function(t,l){var a=void 0!==e.page?e.page:1,u=void 0!==e.lastPage?e.lastPage:0;l[0].isIntersecting&&a<u&&n("loadMoreItems",a+1)};return{onIntersect:a}}}),C=n(3744);const b=(0,C.Z)(_,[["render",W]]);var k=b,I=(0,l.aZ)({name:"CatalogsView",components:{InfiniteScroll:k},setup:function(){var e=(0,g.oR)(),t=(0,m.qj)({articles:new Array,articlesCount:0,message:"",searchTerm:"",isOnline:!1,catalogs:[],selectedCatalogNames:[]}),n=(0,m.iH)({page:0,items:[],lastPage:0});h.Z.getAvailableCatalogs().then((function(e){return t.catalogs=e})),(0,l.bv)((function(){a(),v.Z.registerOnlineStatusUpdateListener(a),p.Z.getLocalArticleCount().then((function(e){t.articlesCount=e})).catch((function(e){console.log(e)}))}));var a=function(){t.isOnline=v.Z.isOnline},u=function(){t.selectedCatalogNames.forEach((function(t){return e.dispatch(w.U.LoadCatalog,{catalogName:t})}))},r=function(){p.Z.clear().then((function(){t.articles=new Array,t.articlesCount=0})).catch((function(e){console.log(e)}))},i=function(){p.Z.searchArticlesByName(t.searchTerm).then((function(e){e.length<1&&p.Z.searchArticlesByDescription(t.searchTerm).then((function(e){t.articles=e,c(1)})).catch((function(e){console.log(e)})),t.articles=e,c(1)})).catch((function(e){console.log(e)}))},o=function(){i()},c=function(e){var l=10;n.value.lastPage=Math.ceil(t.articles.length/l),n.value.page=e,n.value.items=t.articles.slice(0,e*l)};return{state:t,updateOnlineStatus:a,loadCatalog:u,clearCatalog:r,searchArticles:i,onEnter:o,loadItems:c,infinitScrollProps:n}}});const U=(0,C.Z)(I,[["render",d]]);var y=U}}]);
//# sourceMappingURL=41-legacy.a76da45a.js.map