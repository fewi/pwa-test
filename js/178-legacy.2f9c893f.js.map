{"version":3,"file":"js/178-legacy.2f9c893f.js","mappings":"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","sources":["webpack://shoppinglistmanager/./node_modules/vue-loader/dist/templateLoader.js","webpack://shoppinglistmanager/./node_modules/vue-loader/dist/index.js","webpack://shoppinglistmanager/./src/ui/catalogs/CatalogsView.vue"],"sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Load Catalog\")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"The catalog of articles can be loaded in the local database (indexedDB) of this device. \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Load Catalog\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Clear Catalog\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card_title, null, {\n        default: _withCtx(() => [\n          _hoisted_1\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_card_subtitle, null, {\n        default: _withCtx(() => [\n          _hoisted_2\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_container, { class: \"d-flex justify-start flex-wrap\" }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.state.catalogs, (catalog) => {\n                return (_openBlock(), _createBlock(_component_v_checkbox, {\n                  key: catalog.name,\n                  modelValue: _ctx.state.selectedCatalogNames,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.state.selectedCatalogNames) = $event)),\n                  label: `${catalog.name} (${catalog.size})`,\n                  value: `${catalog.name}`,\n                  class: \"flex-grow-0 flex-shrink-0 pr-4\"\n                }, null, 8, [\"modelValue\", \"label\", \"value\"]))\n              }), 128)),\n              _createVNode(_component_v_spacer, { class: \"flex-grow-1\" }),\n              _createElementVNode(\"div\", null, [\n                _createVNode(_component_v_btn, {\n                  disabled: !_ctx.state.isOnline,\n                  onClick: _ctx.loadCatalog\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_3\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\", \"onClick\"]),\n                _createVNode(_component_v_btn, { onClick: _ctx.clearCatalog }, {\n                  default: _withCtx(() => [\n                    _hoisted_4\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"])\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_container, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Current number of articles on device: \" + _toDisplayString(_ctx.state.articlesCount), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport {defineComponent, onMounted, reactive} from 'vue'\nimport {useStore} from \"vuex\";\nimport {ActionType} from \"@/store/actions\";\nimport ArticleDBService from \"@/service/ArticleDBService\";\nimport OnlineStatusService from \"@/service/OnlineStatusService\";\nimport CatalogWebService from \"@/service/CatalogWebService\";\nimport {Catalog} from \"@/model/Catalog\";\n\nexport default defineComponent({\n  name: 'CatalogsView',\n  setup() {\n    const store = useStore();\n\n    const state = reactive({\n      articlesCount: 0,\n      message: \"\",\n      searchTerm: \"\",\n      isOnline: false,\n      catalogs: [] as Catalog[],\n      selectedCatalogNames: [],\n    });\n\n    CatalogWebService.getAvailableCatalogs()\n        .then(catalogs => state.catalogs = catalogs);\n\n    onMounted(() => {\n      updateOnlineStatus();\n      OnlineStatusService.registerOnlineStatusUpdateListener(updateOnlineStatus);\n\n      ArticleDBService.getLocalArticleCount()\n          .then((articlesCount) => {\n            state.articlesCount = articlesCount;\n          })\n          .catch((e: Error) => {\n            console.log(e);\n          });\n    });\n\n    const updateOnlineStatus = (() => {\n      state.isOnline = OnlineStatusService.isOnline;\n    });\n\n    const loadCatalog = () => {\n      state.selectedCatalogNames.forEach(catalogName => store.dispatch(ActionType.LoadCatalog, {catalogName: catalogName}))\n    }\n\n    const clearCatalog = () => {\n      ArticleDBService.clear()\n          .then(() => {\n            state.articlesCount = 0;\n          })\n          .catch((e: Error) => {\n            console.log(e);\n          });\n    }\n\n    return {\n      state,\n      updateOnlineStatus,\n      loadCatalog,\n      clearCatalog,\n    }\n  }\n\n})\n","import { render } from \"./CatalogsView.vue?vue&type=template&id=56fca3d4&ts=true\"\nimport script from \"./CatalogsView.vue?vue&type=script&lang=ts\"\nexport * from \"./CatalogsView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/felix/Documents/git/pwa-playground/shoppinglistmanager/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","_createTextVNode","_hoisted_2","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_v_card_title","_resolveComponent","_component_v_card_subtitle","_component_v_checkbox","_component_v_spacer","_component_v_btn","_component_v_container","_component_v_card_text","_component_v_card","_openBlock","_createBlock","default","_withCtx","_createVNode","_","class","_createElementBlock","_Fragment","_renderList","state","catalogs","catalog","key","name","modelValue","selectedCatalogNames","$event","label","size","value","_createElementVNode","disabled","isOnline","onClick","loadCatalog","clearCatalog","_toDisplayString","articlesCount","defineComponent","setup","store","useStore","reactive","message","searchTerm","CatalogWebService","then","onMounted","updateOnlineStatus","OnlineStatusService","ArticleDBService","catch","e","console","log","forEach","catalogName","dispatch","ActionType","__exports__"],"sourceRoot":""}